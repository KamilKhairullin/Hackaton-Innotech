<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ссылки</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="css/mdb.min.css">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body style="font-family: 'Roboto', sans-serif">
  <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #01497C; height: 70px; font-size: 20px">
    <a class="navbar-brand" href="#"><svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-bar-chart-line-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2z"/>
</svg></a>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="templates/index.html"><b>Найти клиента</b></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="templates/load_links.html"><b>Добавить ссылки</b></a>
        </li>
      </ul>
    </div>
  </nav>
  <br>
  <div class="container">
    <h4>Добавление ссылок на аккаунты</h4>
    <hr>
  <div class="col-sm-6">
    <form>
      <label>Ссылки</label>
      <div id="allLinks">
      <div class="form-group">
        <input type="text" class="form-control" id="link1" placeholder="Ссылка 1">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link2" placeholder="Ссылка 2">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link3" placeholder="Ссылка 3">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link4" placeholder="Ссылка 4">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link5" placeholder="Ссылка 5">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link6" placeholder="Ссылка 6">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link7" placeholder="Ссылка 7">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link8" placeholder="Ссылка 8">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link9" placeholder="Ссылка 9">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="link10" placeholder="Ссылка 10">
      </div>
    </div>
      <button type="button" class="btn btn-primary" onclick="addLink()">Добавить ссылку</button>
      <br>
      <hr>
      <p id="status"></p>
      <button type="button" class="btn btn-primary" onclick="send()">Отправить</button>
    </form>
    <br>
    <br>
    <br>
  </div>
</div>
  <!-- End your project here-->

  <!-- jQuery -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
  <!-- Your custom scripts (optional) -->

  <script type="text/javascript">
    var counter = 10;

    function addLink(){
      counter++;
      var mainDiv = document.getElementById("allLinks");
      var formGroup = document.createElement("DIV");
      formGroup.className = "form-group";
      var txt = document.createElement("INPUT");
      txt.type = "text";
      txt.className = "form-control";
      txt.id = "link"+counter.toString();
      txt.placeholder = "Ссылка "+counter.toString();
      formGroup.appendChild(txt);
      mainDiv.appendChild(formGroup);
    }

    function send(){
      var statusText = document.getElementById("status");
      statusText.innerHTML = "Загрузка...";
      var links=[];
      for (var i=1; i<counter+1; i++){
        links.push(document.getElementById("link"+i.toString()).value);
      }
      var xhr = new XMLHttpRequest();
      var url = "http://kaz-ural-go.asanali99.lclients.ru/submission_get";
      xhr.open("POST", url, true);
      xhr.setRequestHeader("Content-Type", "application/json");
      var data = {"links":links};
      xhr.send(data);
      statusText.innerHTML = "Ссылки успешно отправлены.";
    }
  </script>

</body>
</html>
